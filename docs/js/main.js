function initScrollAnimations(){gsap.to(".case-study-page img.zoom-effect",{scrollTrigger:{trigger:".case-study-page",start:"top bottom",end:"bottom top",scrub:!0},y:-60,ease:"none"}),document.querySelectorAll(".case-study-page img.zoom-effect").forEach((e,t)=>{gsap.from(e,{scrollTrigger:{trigger:e,start:"top 100%",end:"bottom top",scrub:.5},scale:.95,opacity:.8,duration:.6,ease:"power2.out"})})}document.addEventListener("DOMContentLoaded",function(){document.querySelector(".case-study-page")&&initScrollAnimations()}),document.addEventListener("DOMContentLoaded",function(){gsap.registerPlugin(ScrollTrigger),gsap.to(".case-study-page .parallax-bg",{yPercent:20,ease:"none",scrollTrigger:{trigger:".case-study-page #big-hero",scrub:!0,start:"top top",end:"bottom top"}})}),document.addEventListener("scroll",function(){document.querySelectorAll("[data-speed]").forEach(e=>{var t=e.getAttribute("data-speed"),t=window.scrollY*t;e.style.transform=`translateY(${t}px)`})}),document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".fade-in");let t=new IntersectionObserver((e,o)=>{e.forEach((e,t)=>{e.isIntersecting&&(setTimeout(()=>{e.target.classList.add("visible")},100*t),o.unobserve(e.target))})},{threshold:.1});e.forEach(e=>{t.observe(e),e.getBoundingClientRect().top<window.innerHeight&&e.classList.add("visible")})}),document.addEventListener("DOMContentLoaded",function(){let t=(new Date).getFullYear();document.querySelectorAll(".year").forEach(function(e){e.textContent=t});let o=document.getElementById("main-header"),n=document.getElementById("header-logo"),e=document.body,a=e.classList.contains("case-study-page")?"img/golden-bear-logo-full-white.png":"img/golden-bear-logo-full-gold.png",r="img/golden-bear-logo.png",s=(n.src=a,!1);function i(){var e=o.offsetHeight,t=window.scrollY;e<t&&!s?(o.classList.add("sticky"),gsap.set(o,{top:-e,opacity:0}),gsap.to(o,{duration:.3,top:-1,opacity:1,backgroundColor:"rgba(255, 255, 255, 0.95)",ease:"power1.out"}),gsap.to(n,{duration:.3,ease:"ease.inOut"}),n.src=r,s=!0):t<=e&&s&&0<t&&(o.classList.add("sticky"),o.classList.remove("relative"),gsap.to(o,{duration:.3,opacity:1,ease:"power1.out"}),gsap.to(n,{duration:.3,ease:"ease.inOut"}),n.src=r),0===t&&(gsap.to(o,{duration:.3,backgroundColor:"rgba(255, 255, 255, 0)",ease:"power1.out",onComplete:function(){o.classList.remove("sticky"),o.classList.add("relative")}}),gsap.to(n,{duration:.3,ease:"ease.inOut"}),n.src=a,s=!1)}i(),window.addEventListener("scroll",i);var d=document.getElementById("mobile-menu-toggle");let l=document.getElementById("mobile-menu");var c=document.getElementById("mobile-menu-close");d.addEventListener("click",function(){l.classList.add("open"),e.classList.add("mobile-menu-open")}),c.addEventListener("click",function(){l.classList.remove("open"),e.classList.remove("mobile-menu-open")})});let enableHorizontalScrollOnMobile=()=>{let o=document.getElementById("draggable-container"),n=!1,a,r;o.addEventListener("touchstart",e=>{n=!0,a=e.touches[0].pageX,r=o.scrollLeft,e.preventDefault()}),o.addEventListener("touchmove",e=>{var t;n&&(t=e.touches[0].pageX-a,o.scrollLeft=r-t,e.preventDefault())}),o.addEventListener("touchend",()=>{n=!1}),o.addEventListener("touchcancel",()=>{n=!1})},init=()=>{window.innerWidth<=639&&enableHorizontalScrollOnMobile()};function adjustHeroMargin(){var e=document.getElementById("main-header"),t=document.getElementById("big-hero");e&&t&&(t.style.marginTop=`-${e.offsetHeight}px`)}window.addEventListener("load",init),window.addEventListener("resize",init),window.addEventListener("load",adjustHeroMargin),window.addEventListener("resize",adjustHeroMargin);